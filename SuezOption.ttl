@base <http://s.com/instruments/options/> .
@prefix fibo-sec-dbt-ex: <https://spec.edmcouncil.org/fibo/ontology/SEC/Debt/ExerciseConventions/> .
@prefix fibo-der-drc-bsc: <https://spec.edmcouncil.org/fibo/ontology/DER/DerivativesContracts/DerivativesBasics/> .
@prefix fibo-der-etd-eto: <https://spec.edmcouncil.org/fibo/ontology/DER/ExchangeTradedDerivatives/ExchangeTradedOptions/> .
@prefix fibo-der-der-opt: <https://spec.edmcouncil.org/fibo/ontology/DER/DerivativesContracts/Options/> .
@prefix fibo-fbc-fct-usfsind: <https://spec.edmcouncil.org/fibo/ontology/FBC/FunctionalEntities/NorthAmericanEntities/USFinancialServicesEntitiesIndividuals/> .
@prefix fibo-sec-sec-lst: <https://spec.edmcouncil.org/fibo/ontology/SEC/Securities/SecuritiesListings/> .
@prefix fibo-sec-sec-cls: <https://spec.edmcouncil.org/fibo/ontology/SEC/Securities/SecuritiesClassification/> .
@prefix fibo-sec-sec-id: <https://spec.edmcouncil.org/fibo/ontology/SEC/Securities/SecuritiesIdentification/> .
@prefix fibo-sec-sec-idind: <https://spec.edmcouncil.org/fibo/ontology/SEC/Securities/SecuritiesIdentificationIndividuals/> .
@prefix fibo-sec-eq-eq: <https://spec.edmcouncil.org/fibo/ontology/SEC/Equities/EquityInstruments/> .
@prefix fibo-fbc-fct-ra: <https://spec.edmcouncil.org/fibo/ontology/FBC/FunctionalEntities/RegistrationAuthorities/> .
@prefix fibo-fbc-fi-fi: <https://spec.edmcouncil.org/fibo/ontology/FBC/FinancialInstruments/FinancialInstruments/> .
@prefix fibo-fbc-fct-eufseind: <https://spec.edmcouncil.org/fibo/ontology/FBC/FunctionalEntities/EuropeanEntities/EuropeanFinancialServicesEntitiesIndividuals/> .
@prefix fibo-be-le-cb: <https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/CorporateBodies/> .
@prefix fibo-be-le-lei: <https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/LEIEntities/> .
@prefix fibo-be-ge-euj: <https://spec.edmcouncil.org/fibo/ontology/BE/GovernmentEntities/EuropeanJurisdiction/EUGovernmentEntitiesAndJurisdictions/> .
@prefix lcc-3166-1: <http://www.omg.org/spec/LCC/Countries/ISO3166-1-CountryCodes/> .
@prefix fibo-fnd-law-jur: <https://spec.edmcouncil.org/fibo/ontology/FND/Law/Jurisdiction/> .
@prefix fibo-fnd-acc-cur: <https://spec.edmcouncil.org/fibo/ontology/FND/Accounting/CurrencyAmount/> .
@prefix fibo-fnd-acc-4217: <https://spec.edmcouncil.org/fibo/ontology/FND/Accounting/ISO4217-CurrencyCodes/> .
@prefix fibo-fnd-org-fm: <https://spec.edmcouncil.org/fibo/ontology/FND/Organizations/FormalOrganizations/> .
@prefix fibo-fnd-arr-cls: <https://spec.edmcouncil.org/fibo/ontology/FND/Arrangements/ClassificationSchemes/> .
@prefix fibo-fnd-arr-id: <https://spec.edmcouncil.org/fibo/ontology/FND/Arrangements/IdentifiersAndIndices/> .
@prefix fibo-fnd-dt-fd: <https://spec.edmcouncil.org/fibo/ontology/FND/DatesAndTimes/FinancialDates/> .
@prefix fibo-fnd-rel-rel: <https://spec.edmcouncil.org/fibo/ontology/FND/Relations/Relations/> .
@prefix fibo-fnd-aap-agt: <https://spec.edmcouncil.org/fibo/ontology/FND/AgentsAndPeople/Agents/> .
@prefix figi-gii: <http://www.omg.org/spec/FIGI/GlobalInstrumentIdentifiers/> .
@prefix figi-st: <http://www.omg.org/spec/FIGI/SecurityTypes/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#"> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

<http://s.com/instruments/options/> a owl:Ontology;
  owl:imports fibo-sec-dbt-ex:,
   fibo-der-drc-bsc:,
   fibo-der-etd-eto:,
   fibo-fbc-fct-usfsind:,
   fibo-sec-sec-lst:,
   fibo-sec-sec-cls:,
   fibo-sec-sec-id:,
   fibo-sec-sec-idind:,
   fibo-sec-eq-eq:,
   fibo-fbc-fct-ra:,
   fibo-fbc-fi-fi:,
   fibo-fbc-fct-eufseind:,
   fibo-be-le-cb:,
   fibo-be-le-lei:,
   fibo-be-ge-euj:,
   lcc-3166-1:,
   fibo-fnd-law-jur:,
   fibo-fnd-acc-cur:,
   fibo-fnd-acc-4217:,
   fibo-fnd-org-fm:,
   fibo-fnd-arr-cls:,
   fibo-fnd-arr-id:,
   fibo-fnd-dt-fd:,
   fibo-fnd-rel-rel:,
   fibo-fnd-aap-agt:,
   figi-gii:,
   figi-st:.

<http://s.com/instruments/options/SuezDec20CALL12> a fibo-der-der-opt:CallOptionContract;
 a fibo-der-etd-eto:SingleStockOption;
 a figi-gii:FinancialInstrument;
 rdfs:label "Suez OPT December 2020 CALL 12";
 fibo-sec-eq-eq:hasListing :ol;
 figi-gii:isIdentifiedBy :sevDec-figi;
 figi-gii:isIdentifiedBy :sevDec-name;
 figi-gii:isIdentifiedBy :sevDec-ticker;
 fibo-der-drc-bsc:hasUnderlier :so;
 fibo-der-etd-eto:hasExerciseTerms :ets;
 fibo-fnd-rel-rel:isClassifiedBy fibo-sec-sec-cls:ISO-10962-OCASPS;
 figi-gii:isClassifiedBy figi-st:equityOption.
 # still need settlement terms

 :ol a fibo-der-etd-eto:OptionsListing; # needed?
  fibo-sec-sec-lst:lists <http://s.com/instruments/options/SuezDec20CALL12>;
  fibo-fnd-rel-rel:isProvidedBy fibo-sec-sec-lst:EUREX_DEUTSCHLAND.

 :sevDec-figi a fibo-fbc-fi-fi:FinancialInstrumentIdentifier;
  a figi-gii:FinancialInstrumentIdentifier;
#  the following FIGI was obtained from the incoming Bloomberg id of "EO698FAE2020120281800002" by using the open FIGI website
  figi-gii:hasUniqueTextIdentifier "BBG00BQWFCN8";
  fibo-fbc-fct-ra:isRegisteredIn fibo-sec-sec-idind:FinancialInstrumentGlobalIdentifierRegistry.

:sevDec-name a figi-gii:FinancialInstrumentName;
  figi-gii:hasUniqueTextIdentifier "Suez OPT December 2020 CALL 12".

:sevDec-ticker a figi-gii:Ticker;
  figi-gii:hasUniqueTextIdentifier "SEV 12/18/20 C12".

:ets a fibo-der-etd-eto:StockOptionExerciseTermsSet; # needed - why not put these properties on option?
  fibo-der-etd-eto:hasExerciseConvention :exd;
  fibo-der-etd-eto:strikePrice.3 :spm.  # the domain here should be fibo-fnd-accx-acc:Price  but that does not even allow a value to be expressed


:spm a fibo-fnd-acc-cur:MonetaryPrice;
  fibo-fnd-acc-cur:hasAmount 12.0 ;
  fibo-fnd-acc-cur:hasCurrency fibo-fnd-acc-4217:Euro.

:exd a fibo-sec-dbt-ex:AmericanExerciseConvention;
  fibo-sec-dbt-ex:hasExerciseWindow :wind.

:wind a fibo-fnd-dt-fd:ExplicitDatePeriod;
 fibo-fnd-dt-fd:hasStartDate "2015-12-21";
 fibo-fnd-dt-fd:hasEndDate "2020-12-18".

:so a fibo-der-etd-eto:EquityOptionUnderlying; # indirection needed?
  <https://spec.edmcouncil.org/fibo/ontology/DER/DerivativesContracts/Options/identity.3> fibo-sec-eq-eq:SuezEnvironnementCommonStock.

fibo-sec-eq-eq:SuezEnvironnementCommonStock a fibo-sec-eq-eq:PubliclyTradedShare;
 # this is specific to the exchange
 rdfs:label "Suez Environnement Common Stock";
 fibo-sec-eq-eq:hasListing :ul;
 fibo-sec-sec-lst:isListedVia :ul;  # duplicate property? Favor this one
 fibo-fbc-fi-fi:hasValueExpressedIn fibo-fnd-acc-4217:Euro;
 fibo-fbc-fi-fi:isLegallyRecordedIn fibo-be-ge-euj:FranceJurisdiction;
 figi-gii:isClassifiedBy figi-st:commonStock;
 fibo-fnd-aap-agt:isIdentifiedBy :sev-ISIN; # redundant since the inverse is on the ISIN. Will remove it after discussion
#  fibo-sec-sec-lst:hasListingDate  # should be on EquityListing?
 fibo-fbc-fi-fi:hasIssuer :sev-issuer; # is this really how to link from a share to its company?
# fibo-md-eqx-pri:hasStatus :astatus; # need individuals
 fibo-sec-eq-eq:isHeldBy :ano; # does not make sense for this to be required
 # fibo-bp-iss-trm:hasIssuanceInformation should not be required
 figi-gii:isIdentifiedBy :sev-ticker.

:sev-issuer a fibo-fbc-fi-fi:Issuer;
 fibo-fnd-rel-rel:hasIdentity fibo-be-le-cb:SuezEnvironnement.

fibo-be-le-cb:SuezEnvironnement a fibo-be-le-cb:StockCorporation;
 owl:sameAs <http://www.adaptive.com/ontology/L1/LE-549300JQIZM6CL7POC81>;
 fibo-fnd-rel-rel:hasLegalName "Suez Environnement Company S.A";
 # fibo-be-lei:hasLegalForm goes here - value of 8888 or SOCIETE ANONYME
 fibo-fnd-aap-agt:isIdentifiedBy <https://www.gleif.org/lei/549300JQIZM6CL7POC81>;
 fibo-fnd-rel-rel:isClassifiedBy :naics-env;
 fibo-be-le-cb:isIncorporatedIn fibo-be-ge-euj:FranceJurisdiction;
 fibo-fnd-org-fm:isDomiciledIn lcc-3166-1:France;
 fibo-be-le-cb:isConstitutedBy :aInstrumentOfIncorporation. # should not be required
# fibo-be-le-cb:issuesEquity :sev-equity. # should not be required



:naics-env a fibo-fnd-arr-cls:IndustrySectorClassifier;
 a fibo-fnd-arr-id:Identifier;
 fibo-fnd-rel-rel:hasDefinition fibo-fnd-arr-cls:NAICS-Scheme;
 fibo-fnd-rel-rel:classifies fibo-be-le-cb:SuezEnvironnement; # should not be required
 fibo-fnd-rel-rel:hasTag "221310".

fibo-fnd-arr-cls:NAICS-Scheme a fibo-fnd-arr-cls:IndustrySectorClassificationScheme.

:sev-ISIN a fibo-sec-sec-id:InternationalSecuritiesIdentificationNumber;
 fibo-fnd-rel-rel:hasTag "FR0010613471";
 fibo-fnd-aap-agt:identifies fibo-sec-eq-eq:SuezEnvironnementCommonStock;
 fibo-fnd-rel-rel:hasDefinition fibo-sec-sec-id:ISIN-Scheme; # ISIN Scheme is a class and we need an individual, so created one below
 fibo-fbc-fct-ra:isRegisteredBy fibo-fbc-fct-eufseind:Euroclear.

:sev-ticker a figi-gii:Ticker;
 figi-gii:hasUniqueTextIdentifier "SEV".

:ul a fibo-sec-eq-eq:EquityListing; # no value
  fibo-sec-sec-lst:lists fibo-sec-eq-eq:SuezEnvironnementCommonStock;
  fibo-fnd-rel-rel:isProvidedBy fibo-sec-sec-lst:EURONEXT_GROWTH_PARIS.

# Reference data
fibo-sec-sec-lst:EUREX_DEUTSCHLAND a fibo-sec-sec-lst:SecuritiesExchange.

fibo-sec-sec-lst:ISO10383-XEUR a fibo-sec-sec-lst:ExchangeIdentifier;
 fibo-fnd-aap-agt:identifies fibo-sec-sec-lst:EUREX_DEUTSCHLAND;
 fibo-fnd-rel-rel:hasTag "XEUR".

fibo-sec-sec-lst:EURONEXT_GROWTH_PARIS a fibo-sec-sec-lst:SecuritiesExchange.

fibo-sec-sec-lst:ISO10383-XPAR a  fibo-sec-sec-lst:ExchangeIdentifier;
 fibo-fnd-aap-agt:identifies fibo-sec-sec-lst:EURONEXT_GROWTH_PARIS;
 fibo-fnd-rel-rel:hasTag "XPAR".

fibo-be-ge-euj:FranceJurisdiction a fibo-fnd-law-jur:Jurisdiction;
		rdfs:label "France jurisdiction";
		fibo-fnd-law-jur:hasReach lcc-3166-1:France.

fibo-sec-sec-id:ISIN-Scheme a fibo-sec-sec-id:InternationalSecuritiesIdentificationNumberingScheme. # needs to go into FIBO

fibo-sec-sec-cls:ISO-10962 a fibo-sec-sec-cls:FinancialInstrumentClassificationScheme.

fibo-sec-sec-cls:ISO-10962-OCASPS a fibo-sec-sec-cls:FinancialInstrumentClassifier;
 rdfs:label "OCASPS";
 fibo-fnd-rel-rel:hasDefinition fibo-sec-sec-cls:ISO-10962.

# FIGI integration
 figi-gii:hasUniqueTextIdentifier rdfs:subPropertyOf fibo-fnd-rel-rel:hasTag.
 figi-gii:isIdentifiedBy rdfs:subPropertyOf fibo-fnd-aap-agt:isIdentifiedBy.
 figi-gii:FinancialInstrumentIdentifier rdfs:subClassOf fibo-fbc-fi-fi:FinancialInstrumentIdentifier.
